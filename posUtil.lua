local config = require('config')

-- ======================== WORKING FARM ========================
--  _________________
-- |31 30 19 18 07 06|  6x6 Slot Map
-- |32 29 20 17 08 05|
-- |33 28 21 16 09 04|  One down from 01 is (0,0)
-- |34 27 22 15 10 03|
-- |35 26 23 14 11 02|
-- |36 25 24 13 12 01|
--  ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾

local function workingSlotToPos(slot)
    local x = (slot - 1) // config.workingFarmSize
    local row = (slot - 1) % config.workingFarmSize
    local y

    if x % 2 == 0 then
        y = row + 1
    else
        y = -row + config.workingFarmSize
    end

    return {-x, y}
end

-- ======================== STORAGE FARM ========================
--  ____________________
-- |07 08 21 22 35 36 49|  7x7 Slot Map
-- |06 09 20 23 34 37 48|
-- |05 10 19 24 33 38 47|  Two left from 01 is (0,0)
-- |04 11 18 25 32 39 46|
-- |03 12 17 26 31 40 45|
-- |02 13 16 27 30 41 44|
-- |01 14 15 28 29 42 43|
--  ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
--  __________________________
-- |09 10 27 28 45 46 63 64 81|  9x9 Slot Map
-- |08 11 26 29 44 47 62 65 80|
-- |07 12 25 30 43 48 61 66 79|  Two left from 03 is (0,0)
-- |06 13 24 31 42 49 60 67 78|
-- |05 14 23 32 41 50 59 68 77|
-- |04 15 22 33 40 51 58 69 76|
-- |03 16 21 34 39 52 57 70 75|
-- |02 17 20 35 38 53 56 71 74|
-- |01 18 19 36 37 54 55 72 73|
--  ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
--  ________________________________
-- |11 12 33 34 55 56 77 78 99 00 21|  11x11 Slot Map
-- |10 13 32 35 54 57 76 79 98 01 20|
-- |09 14 31 36 53 58 75 80 97 02 19|  Two left from 05 is (0,0)
-- |08 15 30 37 52 59 74 81 96 03 18|
-- |07 16 29 38 51 60 73 82 95 04 17|
-- |06 17 28 39 50 61 72 83 94 05 16|
-- |05 18 27 40 49 62 71 84 93 06 15|
-- |04 19 26 41 48 63 70 85 92 07 14|
-- |03 20 25 42 47 64 69 86 91 08 13|
-- |02 21 24 43 46 65 68 87 90 09 12|
-- |01 22 23 44 45 66 67 88 89 10 11|
--  ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
--  ______________________________________
-- |13 14 39 40 65 66 91 92 17 18 43 44 69|  13x13 Slot Map
-- |12 15 38 41 64 67 90 93 16 19 42 45 68|
-- |11 16 37 42 63 68 89 94 15 20 41 46 67|  Two left from 07 is (0,0)
-- |10 17 36 43 62 69 88 95 14 21 40 47 66|
-- |09 18 35 44 61 70 87 96 13 22 39 48 65|
-- |08 19 34 45 60 71 86 97 12 23 38 49 64|
-- |07 20 33 46 59 72 85 98 11 24 37 50 63|
-- |06 21 32 47 58 73 84 99 10 25 36 51 62|
-- |05 22 31 48 57 74 83 00 09 26 35 52 61|
-- |04 23 30 49 56 75 82 01 08 27 34 53 60|
-- |03 24 29 50 55 76 81 02 07 28 33 54 59|
-- |02 25 28 51 54 77 80 03 06 29 32 55 58|
-- |01 26 27 52 53 78 79 04 05 30 31 56 57|
--  ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾

local function storageSlotToPos(slot)
    local x = (slot - 1) // config.storageFarmSize + 2
    local row = (slot - 1) % config.storageFarmSize
    local y

    if x % 2 == 0 then
        y = row - config.storageFarmSize + 7
    else
        y = config.storageFarmSize - row - 1
    end

    return {x, y}
end


return {
    workingSlotToPos = workingSlotToPos,
    storageSlotToPos = storageSlotToPos
}